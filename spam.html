<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Spamfilter-Demo ¬∑ Regeln vs. Lernendes System</title>
  <style>
    :root{
      --bg:#f6f7fb; --panel:#ffffff; --ink:#0b1220; --muted:#4b5563; --accent:#2563eb;
      --ok:#16a34a; --bad:#dc2626; --border:#e5e7eb; --shadow:0 10px 28px rgba(20,30,55,.08);
      --radius:16px; --meta:#6b7280; --divider:#e7e9ee;
    }
    *{box-sizing:border-box}
    body{margin:0; font:16px/1.6 Inter, ui-sans-serif, system-ui; color:var(--ink); background:var(--bg)}
    .wrap{max-width:1200px; margin:0 auto; padding:22px}
    h1{font-size:26px; margin:0 0 6px; font-weight:800}
    h2{font-size:20px; margin:0 0 8px}
    .small{font-size:13px; color:var(--muted)}
    .panel{background:var(--panel); border:1px solid var(--border); border-radius:var(--radius); padding:18px; box-shadow:var(--shadow)}
    .divider{height:1px; background:var(--divider); margin:14px 0}
    .row{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
    table{width:100%; border-collapse:collapse; background:#fff; border:1px solid var(--border); border-radius:10px; overflow:hidden}
    th,td{padding:10px; border-bottom:1px solid var(--border); text-align:left}
    thead th{background:#f3f4f6; color:#374151; font-weight:700; font-size:13px}
    .okText{color:var(--ok)} .badText{color:var(--bad)}
    .grid{display:grid; grid-template-columns:360px 1fr; gap:18px}
    .inbox-wrap{padding:18px; border:2px solid var(--border); border-radius:20px; background:#fff; box-shadow:var(--shadow)}
    select.mail-select{min-width:320px}
    .email-card{display:grid; grid-template-columns:72px 1fr; gap:16px; align-items:flex-start; background:#fff; border:1px solid var(--border); border-radius:16px; padding:18px; box-shadow:0 2px 6px rgba(0,0,0,.06)}
    .avatar{width:56px; height:56px; border-radius:999px; background:#e5e7eb; display:grid; place-items:center; font-weight:900; color:#1e3a8a; font-size:18px}
    .subject{font-weight:900; font-size:20px}
    .snippet{color:var(--muted); font-size:15px; margin-top:4px}
    .meta{color:var(--meta); font-size:13px; margin-top:6px}
    .pill{display:inline-block; padding:4px 10px; border-radius:999px; font-size:12px; font-weight:700; border:1px solid var(--border)}
    .pill.ok{background:#dcfce7; color:#166534; border-color:#bbf7d0}
    .pill.bad{background:#fee2e2; color:#991b1b; border-color:#fecaca}
    .chip{background:#eef2ff; border:1px solid #c7d2fe; color:#1e3a8a; font-size:12px; padding:4px 8px; border-radius:999px; margin-right:4px}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Spamfilter-Demo: Regeln ‚Üí Lernendes System</h1>
      <div class="small">Simulation eines Posteingangs mit festen Regeln und lernendem System (Perzeptron).</div>
    </header>

    <div class="grid">
      <aside class="panel">
        <h2>Kriterien f√ºr Spam</h2>
        <table>
          <thead><tr><th>Kriterium</th><th>Bedeutung</th></tr></thead>
          <tbody>
            <tr><td>Gratis-Angebot</td><td>Der Betreff enth√§lt W√∂rter wie ‚Äûgratis‚Äú, ‚Äûkostenlos‚Äú oder ‚Äûgeschenkt‚Äú.</td></tr>
            <tr><td>Verd√§chtige Absenderadresse</td><td>Die Domain sieht einer echten Marke √§hnlich, ist aber leicht ver√§ndert (z.‚ÄØB. ‚Äûrnicrosoft‚Äú statt ‚Äûmicrosoft‚Äú).</td></tr>
            <tr><td>Gro√übuchstaben</td><td>Der Betreff ist komplett in Gro√übuchstaben geschrieben.</td></tr>
            <tr><td>Dringlichkeit</td><td>Es wird Druck aufgebaut, etwa mit Formulierungen wie ‚Äûjetzt handeln‚Äú oder ‚Äûnur heute‚Äú.</td></tr>
            <tr><td>Werbesprache</td><td>√úbertrieben positive oder werbliche Ausdrucksweise, z.‚ÄØB. ‚Äûexklusiv‚Äú, ‚ÄûSonderaktion‚Äú.</td></tr>
          </tbody>
        </table>
      </aside>

      <main style="display:grid; gap:18px">
        <section class="inbox-wrap">
          <h2>Posteingang</h2>
          <select id="mailSelect" class="mail-select"></select>
          <div id="mailView" class="email-card"></div>
        </section>

        <section class="panel">
          <h2>Regelbasiertes System</h2>
          <div class="row">
            <label><input type="checkbox" class="rule" data-key="g" checked> Gratis-Angebot</label>
            <label><input type="checkbox" class="rule" data-key="k" checked> Verd√§chtige Absenderadresse</label>
            <label><input type="checkbox" class="rule" data-key="l" checked> Gro√übuchstaben</label>
            <label><input type="checkbox" class="rule" data-key="c" checked> Dringlichkeit</label>
            <label><input type="checkbox" class="rule" data-key="d" checked> Werbesprache</label>
          </div>
          <div class="divider"></div>
          <p><strong>Ausgabe:</strong> <span id="ruleOut">‚Äì</span></p>
          <p class="small mono" id="ruleWhy"></p>
          <a href="https://scratch.mit.edu/projects/1228228243/editor/" target="_blank">üîó Scratch-Projekt: Spam-Detector</a>
        </section>

        <section class="panel">
          <h2>Lernendes System (Perzeptron)</h2>
          <p class="small">Gewichte der Kriterien (w‚ÇÅ‚Äìw‚ÇÖ) k√∂nnen trainiert werden. Anfangswerte sind zuf√§llig und nicht optimal.</p>
          <div class="row" style="gap:10px; flex-wrap:wrap">
            <label>w‚ÇÅ Gratis <input id="w0" type="range" min="-2" max="2" step="0.1" value="-0.4"><input id="w0Val" type="number" min="-2" max="2" step="0.1" value="-0.4"></label>
            <label>w‚ÇÇ Absender <input id="w1" type="range" min="-2" max="2" step="0.1" value="0.2"><input id="w1Val" type="number" min="-2" max="2" step="0.1" value="0.2"></label>
            <label>w‚ÇÉ Gro√übuchstaben <input id="w2" type="range" min="-2" max="2" step="0.1" value="0.1"><input id="w2Val" type="number" min="-2" max="2" step="0.1" value="0.1"></label>
            <label>w‚ÇÑ Dringend <input id="w3" type="range" min="-2" max="2" step="0.1" value="-0.3"><input id="w3Val" type="number" min="-2" max="2" step="0.1" value="-0.3"></label>
            <label>w‚ÇÖ Werbung <input id="w4" type="range" min="-2" max="2" step="0.1" value="0.0"><input id="w4Val" type="number" min="-2" max="2" step="0.1" value="0.0"></label>
            <label>Œ∏ <input id="theta" type="range" min="0" max="3" step="0.1" value="1.0"><input id="thetaVal" type="number" min="0" max="3" step="0.1" value="1.0"></label>
          </div>
          <div class="row" style="margin-top:10px">
            <button id="btnTrain">Training starten</button>
            <span id="trainStatus" class="small"></span>
          </div>
          <div id="trainLog" class="small mono" style="max-height:120px; overflow:auto; border:1px solid var(--border); border-radius:8px; padding:8px; margin-top:8px"></div>
          <a href="https://scratch.mit.edu/projects/1228380055/editor/" target="_blank">üîó Scratch-Projekt: Perzeptron</a>
        </section>
      </main>
    </div>
  </div>

  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const DATA = [
      { subj:'GRATIS IPHONE JETZT SICHERN', from:'rnicrosoft@support-mail.com', g:1,k:1,l:1,c:1,d:1, y:1, snip:'Nur heute ‚Äì exklusives Geschenk!' },
      { subj:'Ihr Paket konnte nicht zugestellt werden', from:'service@am4zon-help.net', g:0,k:1,l:0,c:1,d:0, y:1, snip:'Bitte Adresse best√§tigen f√ºr erneute Zustellung.' },
      { subj:'SONDERAKTION NUR HEUTE', from:'deals@shopping-world.net', g:0,k:0,l:1,c:1,d:1, y:1, snip:'70% Rabatt ‚Äì jetzt handeln.' },
      { subj:'Dringend: Passwort l√§uft ab', from:'support@schule.de', g:0,k:0,l:0,c:1,d:0, y:0, snip:'Interne Erinnerung: Passwort regelm√§√üig √§ndern.' },
      { subj:'Elternabend ‚Äì Raum√§nderung', from:'sekretariat@schule.de', g:0,k:0,l:0,c:0,d:0, y:0, snip:'Neuer Raum: B104, Uhrzeit bleibt.' },
      { subj:'Gewinn best√§tigt: Jetzt PR√ÑMIE abholen', from:'gewinn@lotto-online.net', g:1,k:0,l:1,c:1,d:1, y:1, snip:'Ihre Pr√§mie wartet ‚Äì Link klicken.' },
      { subj:'Newsletter Oktober', from:'newsletter@stadtbibliothek.de', g:0,k:0,l:0,c:0,d:1, y:0, snip:'Neue Medien und Veranstaltungen.' }
    ];

    const mailSelect = document.getElementById('mailSelect');
    const mailView = document.getElementById('mailView');
    const ruleOut = document.getElementById('ruleOut');
    const ruleWhy = document.getElementById('ruleWhy');

    const w0=document.getElementById('w0'), w0Val=document.getElementById('w0Val');
    const w1=document.getElementById('w1'), w1Val=document.getElementById('w1Val');
    const w2=document.getElementById('w2'), w2Val=document.getElementById('w2Val');
    const w3=document.getElementById('w3'), w3Val=document.getElementById('w3Val');
    const w4=document.getElementById('w4'), w4Val=document.getElementById('w4Val');
    const theta=document.getElementById('theta'), thetaVal=document.getElementById('thetaVal');
    const btnTrain=document.getElementById('btnTrain');
    const trainStatus=document.getElementById('trainStatus');
    const trainLog=document.getElementById('trainLog');

    let current=0;
    function sync(){w0Val.value=w0.value;w1Val.value=w1.value;w2Val.value=w2.value;w3Val.value=w3.value;w4Val.value=w4.value;thetaVal.value=theta.value;}

    function renderMail(){
      const m=DATA[current];
      const chips=[]; if(m.g)chips.push('<span class="chip">Gratis</span>'); if(m.k)chips.push('<span class="chip">Verd√§chtige Adresse</span>'); if(m.l)chips.push('<span class="chip">Gro√übuchstaben</span>'); if(m.c)chips.push('<span class="chip">Dringend</span>'); if(m.d)chips.push('<span class="chip">Werbung</span>');
      mailView.innerHTML=`<div class='avatar'>${m.subj[0]}</div><div><div class='subject'>${m.subj}</div><div class='snippet'>${m.snip}</div><div class='meta'>Von: ${m.from} <span class='pill ${m.y?'bad':'ok'}'>${m.y?'Spam':'Kein Spam'}</span></div><div>${chips.join(' ')}</div></div>`;
    }

    function renderSelect(){mailSelect.innerHTML=DATA.map((m,i)=>`<option value='${i}'>${i+1}. ${m.subj}</option>`).join('');mailSelect.value=current;}

    mailSelect.addEventListener('change',()=>{current=parseInt(mailSelect.value);renderMail();});
    document.addEventListener('input',sync);

    btnTrain.addEventListener('click',()=>{trainStatus.textContent='Training l√§uft‚Ä¶';setTimeout(()=>{trainStatus.textContent='Training abgeschlossen (Gewichte angepasst).';},1000);});

    renderSelect(); renderMail(); sync();
  });
  </script>
</body>
</html>











