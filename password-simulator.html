<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Passwortstärke-Simulator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 800px;
            margin: 30px auto;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            padding: 20px;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        p {
            font-size: 16px;
            line-height: 1.6;
            color: #555;
        }
        input[type="text"] {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        button {
            background-color: #007bff;
            color: #fff;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 5px;
            font-size: 16px;
        }
        button:hover {
            background-color: #0056b3;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            background: #f9f9f9;
            border-left: 4px solid #007bff;
            font-size: 16px;
        }
        .strong {
            color: #28a745;
        }
        .weak {
            color: red;
        }
        .flag {
            margin-top: 20px;
            font-size: 18px;
            color: #28a745;
            font-weight: bold;
            text-align: center;
        }
    </style>
    <script>
        function calculatePasswordStrength(password) {
            const charsetSize = {
                numbers: 10,
                lowercase: 26,
                uppercase: 26,
                special: 32
            };
            let poolSize = 0;
            if (/[0-9]/.test(password)) poolSize += charsetSize.numbers;
            if (/[a-z]/.test(password)) poolSize += charsetSize.lowercase;
            if (/[A-Z]/.test(password)) poolSize += charsetSize.uppercase;
            if (/[^a-zA-Z0-9]/.test(password)) poolSize += charsetSize.special;

            const combinations = Math.pow(poolSize, password.length);
            const guessesPerSecond = 1e10; // Beispiel: 10 Milliarden Versuche/Sekunde.
            return combinations / guessesPerSecond; // Zeit in Sekunden.
        }

        function formatTime(seconds) {
            if (seconds < 60) return `${seconds.toFixed(2)} Sekunden`;
            const minutes = seconds / 60;
            if (minutes < 60) return `${minutes.toFixed(2)} Minuten`;
            const hours = minutes / 60;
            if (hours < 24) return `${hours.toFixed(2)} Stunden`;
            const days = hours / 24;
            if (days < 365) return `${days.toFixed(2)} Tage`;
            const years = days / 365;
            return `${years.toFixed(2)} Jahre`;
        }

        function checkPassword() {
            const password = document.getElementById('password').value;
            const resultDiv = document.getElementById('result');
            const flagDiv = document.getElementById('flag');

            if (password.length < 1) {
                resultDiv.innerHTML = '<p class="weak">Bitte ein Passwort eingeben.</p>';
                flagDiv.textContent = '';
                return;
            }

            const timeToCrack = calculatePasswordStrength(password);
            const formattedTime = formatTime(timeToCrack);

            // Prüfung auf persönliche Muster
            const personalPatterns = [
                /\d{4}/, // Geburtsjahr
                /(?:\b|\d)[01]?\d[0-3]?\d(?:\b|\d)/, // Geburtsdatum
                /(?:password|passwort|name|12345|qwerty)/i // Häufige schwache Passwörter
            ];
            let containsPersonalData = personalPatterns.some(pattern => pattern.test(password));

            let strength = '<p class="weak">Dein Passwort ist schwach. Es könnte in:</p>';
            if (timeToCrack > 3600) strength = '<p style="color: orange;">Dein Passwort ist mittelmäßig. Es könnte in:</p>';
            if (timeToCrack > 31536000) strength = '<p class="strong">Dein Passwort ist stark! Es könnte in:</p>';

            resultDiv.innerHTML = `${strength} <strong>${formattedTime}</strong> geknackt werden.`;

            if (containsPersonalData) {
                resultDiv.innerHTML += '<p class="weak">⚠️ Dein Passwort könnte persönliche Informationen enthalten, die es angreifbarer machen.</p>';
            }

            // Flag wird unabhängig von persönlichen Daten vergeben, wenn das Passwort stark genug ist
            if (timeToCrack > 1e12) {
                flagDiv.textContent = 'Flag: {UNBREAKABLE_PASSWORD}';
            } else {
                flagDiv.textContent = '';
            }
        }
    </script>
</head>
<body>
    <p>
    Passwörter sind der erste Schutzmechanismus für unsere persönlichen und sensiblen Daten. Ein schwaches Passwort kann jedoch leicht durch Techniken wie Brute-Force-Angriffe oder Wörterbuch-Angriffe kompromittiert werden. 
</p>
<p>
    Sichere Passwörter zeichnen sich durch folgende Eigenschaften aus:
    <ul>
        <li>Sie sind mindestens 12-16 Zeichen lang.</li>
        <li>Sie enthalten eine Kombination aus Groß- und Kleinbuchstaben, Zahlen und Sonderzeichen (z. B. "@", "#", "$").</li>
        <li>Sie enthalten keine persönlichen Informationen wie Namen, Geburtstage oder einfache Muster (z. B. "12345" oder "password").</li>
        <li>Sie sind einzigartig für jede Website oder jeden Dienst.</li>
    </ul>
</p>
<p>
    In diesem Lab kannst du testen, wie stark dein Passwort ist. Der Simulator bewertet dein Passwort anhand von gängigen Angriffsmethoden und gibt dir Hinweise, wie du es verbessern kannst. Außerdem lernst du, warum Passwort-Manager hilfreich sind und wie sie die Sicherheit deiner Konten erhöhen können, indem sie zufällige, starke Passwörter generieren und sicher speichern.
</p>
<p>
    Beachte: Die Länge deines Passworts ist oft wichtiger als die Komplexität. Ein langes Passwort (z. B. eine Passphrase wie "RotesHausBlauerMond123!") ist deutlich schwieriger zu knacken als ein kurzes, komplexes Passwort (z. B. "x2#A"). 
</p>
<p>
    Nutze dieses Tool, um zu verstehen, wie wichtig starke Passwörter sind, und wende die Erkenntnisse direkt in der Praxis an, um deine Online-Konten besser zu schützen.
</p>
<div class="container">
        <h1>Passwortstärke-Simulator</h1>
    
        <input type="text" id="password" placeholder="Gib dein Passwort hier ein...">
        <button onclick="checkPassword()">Passwort testen</button>
        <div id="result" class="result"></div>
        <div id="flag" class="flag"></div>
    </div>
</body>
</html>

